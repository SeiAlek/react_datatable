{"version":3,"sources":["components/Emuns.tsx","helpers/getData.tsx","helpers/validators.ts","components/DataTable/THead.tsx","components/DataTable/PhoneCells.tsx","components/DataTable/TBody.tsx","components/DataTable/DataTable.tsx","components/Search/Search.tsx","components/Pagination/PaginationButton.tsx","components/Pagination/PaginationSettings.tsx","components/Pagination/Pagination.tsx","App.tsx","index.tsx"],"names":["Columns","SortTypes","getData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","url","response","json","wrap","_context","prev","next","fetch","sent","abrupt","stop","_x","apply","this","arguments","getPhones","_ref2","_callee2","phonesFromServer","_context2","concat","process","required","name","value","minLength","length","type","THead","columnConfig","isSelectedAll","sortField","sortReverse","onSelectionChanged","onSort","react_default","createElement","className","checked","onChange","entries","map","_ref3","slicedToArray","field","key","title","onClick","aria-hidden","PhoneCells","allPhones","phone","setPhones","_useState","useState","_useState2","editPhoneId","setEditPhoneId","_useState3","_useState4","editFieldName","setEditFieldName","_useState5","_useState6","editFieldValue","setEditFieldValue","_useState7","_useState8","errorMessage","setErrorMessage","setDefaultState","document","removeEventListener","onKeyup","onButtonCancelClick","e","code","validateField","_columnConfig$name$va","validators","validator","filter","Boolean","join","saveChanges","preventDefault","toConsumableArray","id","objectSpread2","defineProperty","Fragment","keys","onDoubleClick","fieldName","fieldValue","addEventListener","onSubmit","autoFocus","currentTarget","onChangeFieldValue","onBlur","TBody","phones","selected","PhoneCells_PhoneCells","DataTable","THead_THead","TBody_TBody","Search","filterQuery","setFilterQuery","placeholder","target","PaginationButton","page","activePage","_ref$text","text","onPageChange","cn","is-current","aria-label","perPageOptions","PaginationSettings","perPage","setPerPage","Number","option","Pagination","total","changeActualPage","lastPage","Math","ceil","role","PaginationSettings_PaginationSettings","disabled","PaginationButton_PaginationButton","_columnConfig","Name","sortType","String","isSearchable","Age","isInteger","Snippet","App","setSortField","setSortType","_useState9","_useState10","setSortReverse","_useState11","_useState12","_useState13","_useState14","setIsSelectedAll","_useState15","_useState16","actualPage","setActualPage","_useState17","_useState18","firstVisibleIndex","useEffect","loadPhones","preparedPhones","_preparedPhone","age","snippet","t0","filterPhones","useCallback","query","pattern","RegExp","trim","searchArea","forEach","prop","hasOwnProperty","match","sortPhones","sortedPhones","sort","b","localeCompare","reverse","filteredPhones","useMemo","paginatedPhones","slice","every","Search_Search","DataTable_DataTable","includes","Pagination_Pagination_Pagination","newPage","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.4bf7fedd.chunk.js","sourcesContent":["export enum Columns {\n  Name = 'name',\n  Age = 'age',\n  Snippet = 'snippet',\n}\n\nexport enum SortTypes {\n  String = 'string',\n  Number = 'number',\n}\n","const getData = async (url: string) => {\n  const response = await fetch(url);\n  const json = await response.json();\n\n  return json;\n};\n\nexport const getPhones = async () => {\n  const phonesFromServer = await getData(`${process.env.REACT_APP_API_URL}/phones.json`);\n\n  return phonesFromServer;\n};\n","export const required: Validator = (name, value) => {\n  if (value) {\n    return '';\n  }\n\n  return `${name} is required`;\n};\n\nexport const url: Validator = (name, value) => {\n  // eslint-disable-next-line max-len\n  const URL_REGEXP = /^((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=+$,\\w]+@)?[A-Za-z0-9.-]+|(?:www\\.|[-;:&=+$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[+~%/.\\w-_]*)?\\??(?:[-+=&;%@.\\w_]*)#?(?:[.!/\\\\\\w]*))?)$/;\n\n  return URL_REGEXP.test(value)\n    ? ''\n    : `${name} should be a valid URL`;\n};\n\nexport const minLength = (length: number): Validator => {\n  return (name, value) => {\n    return !value || (value.length >= length)\n      ? ''\n      : `${name} should have at least ${length} characters`;\n  };\n};\n\n\nexport const dataType = (type: string): Validator => {\n  return (name, value) => {\n    if (type === 'number') {\n      return !value || (Number.isInteger(+value))\n      ? ''\n      : `${name} should be ${type}`;\n    }\n\n    return !value || (typeof value === type)\n      ? ''\n      : `${name} should be ${type}`;\n  };\n}\n","import React from 'react';\n\ntype Props = {\n  columnConfig: ColumnConfig;\n  isSelectedAll: boolean;\n  sortField: string;\n  sortReverse: boolean;\n  onSelectionChanged?: (id: string | null) => void;\n  onSort: (name: string, field: SortField) => void;\n};\n\nexport const THead: React.FC<Props> = ({\n  columnConfig,\n  isSelectedAll,\n  sortField,\n  sortReverse,\n  onSelectionChanged,\n  onSort,\n}) => {\n  return (\n    <thead>\n      <tr>\n        {onSelectionChanged && (\n          <th className=\"table-headers table-headers-checkbox\">\n            <input\n              type=\"checkbox\"\n              checked={isSelectedAll}\n              onChange={() => onSelectionChanged(null)}\n            />\n          </th>\n        )}\n        {Object.entries(columnConfig).map(([name, field]) => (\n          <th\n            className={`table-headers table-headers-${name}`}\n            key={field.title}\n            onClick={() => onSort(name, field)}\n          >\n            {field.title}\n            {!sortReverse && sortField === name && (\n              <span className=\"icon\">\n                <span className=\"fas fa-angle-down\" aria-hidden=\"true\" />\n              </span>\n            )}\n            {sortReverse && sortField === name && (\n              <span className=\"icon\">\n                <span className=\"fas fa-angle-up\" aria-hidden=\"true\" />\n              </span>\n            )}\n          </th>\n        ))}\n      </tr>\n    </thead>\n  )\n}\n","import React, { useState } from 'react';\n\ntype Props = {\n  allPhones: Phone[];\n  phone: Phone;\n  columnConfig: ColumnConfig;\n  setPhones: (phones: Phone[]) => void;\n};\n\nexport const PhoneCells: React.FC<Props> = ({\n  allPhones,\n  phone,\n  columnConfig,\n  setPhones,\n}) => {\n  const [editPhoneId, setEditPhoneId] = useState('');\n  const [editFieldName, setEditFieldName] = useState('');\n  const [editFieldValue, setEditFieldValue] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const setEditingProps = (id: string, fieldName: string, fieldValue: string) => {\n    setEditPhoneId(id);\n    setEditFieldName(fieldName);\n    setEditFieldValue(fieldValue);\n    document.addEventListener('keyup', onKeyup);\n  };\n\n  const setDefaultState = () => {\n    setEditPhoneId('');\n    setEditFieldName('');\n    setEditFieldValue('');\n    document.removeEventListener('keyup', onKeyup);\n  }\n\n  const onChangeFieldValue = (e: React.FormEvent<HTMLInputElement>) => {\n    setErrorMessage('');\n    setEditFieldValue(e.currentTarget.value)\n  }\n\n  const onButtonCancelClick = () => {\n    setEditFieldValue('');\n  }\n\n  const onKeyup = (e: KeyboardEvent) => {\n    if (e.code === 'Escape') {\n      setDefaultState();\n    }\n  }\n\n  const validateField = (name: keyof ColumnConfig, value: string) => {\n    const { validators = [] } = columnConfig[name];\n\n    return validators\n      .map((validator: Validator) => validator(name as string, value))\n      .filter(Boolean)\n      .join(', ');\n  };\n\n  const saveChanges = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const error = validateField(editFieldName, editFieldValue);\n\n    if (error) {\n      setErrorMessage(validateField(editFieldName, editFieldValue));\n\n      return;\n    }\n\n    setPhones([...allPhones.map(phone => {\n      return (phone.id === editPhoneId)\n        ? {\n          ...phone,\n          [editFieldName]: editFieldValue,\n        }\n        : phone;\n    })]);\n\n    setDefaultState();\n  };\n\n  return (\n    <>\n      {Object.keys(columnConfig).map((key) => (\n        <td\n          key={key}\n          onDoubleClick={() => setEditingProps(phone.id, key, phone[key])}\n        >\n          {(editPhoneId !== phone.id || editFieldName !== key) && phone[key]}\n          {(editPhoneId === phone.id && editFieldName === key) && (\n            <form onSubmit={e => saveChanges(e)} className=\"editing-form\">\n              <input\n                type=\"text\"\n                className=\"input is-info\"\n                value={editFieldValue}\n                autoFocus={true}\n                onChange={e => onChangeFieldValue(e)}\n                onBlur={e => saveChanges(e)}\n              />\n              <button\n                type=\"button\"\n                className=\"delete is-small\"\n                onClick={onButtonCancelClick}\n              />\n              {errorMessage && (\n                <article className=\"message is-danger\">\n                  <div className=\"message-body\">\n                    {errorMessage}\n                  </div>\n                </article>\n              )}\n            </form>\n          )}\n        </td>\n      ))}\n    </>\n  )\n}\n","import React, { useState } from 'react';\nimport { PhoneCells } from './PhoneCells';\n\ntype Props = {\n  phones: Phone[];\n  allPhones: Phone[];\n  columnConfig: ColumnConfig;\n  onSelectionChanged?: (id: string | null) => void;\n  setPhones: (phones: Phone[]) => void;\n};\n\nexport const TBody: React.FC<Props> = ({\n  phones,\n  allPhones,\n  columnConfig,\n  onSelectionChanged,\n  setPhones,\n}) => {\n\n\n  return (\n    <tbody>\n      {phones.map((phone) => (\n        <tr key={phone.id}>\n          {onSelectionChanged && (\n            <td>\n              <input\n                type=\"checkbox\"\n                checked={phone.selected}\n                onChange={() => onSelectionChanged(phone.id)}\n              />\n            </td>\n          )}\n          <PhoneCells\n            allPhones={allPhones}\n            phone={phone}\n            columnConfig={columnConfig}\n            setPhones={setPhones}\n          />\n        </tr>\n      ))}\n    </tbody>\n  )\n}\n","import React from 'react';\nimport { THead } from './THead';\nimport { TBody } from './TBody';\n\ntype Props = {\n  phones: Phone[];\n  allPhones: Phone[];\n  columnConfig: ColumnConfig;\n  isSelectedAll: boolean;\n  sortField: string;\n  sortReverse: boolean;\n  onSelectionChanged?: (id: string | null) => void;\n  onSort: (name: string, field: SortField) => void;\n  setPhones: (phones: Phone[]) => void;\n}\n\nexport const DataTable: React.FC<Props> = ({\n  phones,\n  allPhones,\n  columnConfig,\n  isSelectedAll,\n  sortField,\n  sortReverse,\n  onSelectionChanged,\n  onSort,\n  setPhones,\n}) => {\n  return (\n    <table className=\"table is-bordered is-striped is-fullwidth\">\n      <THead\n        columnConfig={columnConfig}\n        isSelectedAll={isSelectedAll}\n        sortField={sortField}\n        sortReverse={sortReverse}\n        onSelectionChanged={onSelectionChanged}\n        onSort={onSort}\n      />\n      <TBody\n        phones={phones}\n        allPhones={allPhones}\n        columnConfig={columnConfig}\n        onSelectionChanged={onSelectionChanged}\n        setPhones={setPhones}\n      />\n    </table>\n  );\n}\n","import React from 'react';\n\ntype Props = {\n  filterQuery: string;\n  setFilterQuery: (value: string) => void;\n}\n\nexport const Search: React.FC<Props> = ({ filterQuery, setFilterQuery }) => {\n  return (\n    <div className=\"field\">\n      <div className=\"control\">\n        <input\n          type=\"text\"\n          className=\"input is-info\"\n          placeholder=\"Text input\"\n          value={filterQuery}\n          onChange={e => setFilterQuery(e.target.value)}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport cn from 'classnames';\n\ntype Props = {\n  page: number,\n  activePage: number,\n  text?: string,\n  onPageChange: (page: number) => void,\n}\n\nexport const PaginationButton: React.FC<Props> = ({\n  page,\n  activePage,\n  text = '',\n  onPageChange,\n}) => (\n  <li>\n    <button\n      type=\"button\"\n      className={cn('pagination-link', {'is-current': page === activePage})}\n      aria-label={`Goto page ${page}`}\n      onClick={() => onPageChange(page)}\n    >\n      {text || page}\n    </button>\n  </li>\n);\n","import React from 'react';\n\ntype Props = {\n  perPage: number,\n  setPerPage: (value: number) => void,\n}\n\nconst perPageOptions = [5, 10, 15, 20];\n\nexport const PaginationSettings: React.FC<Props> = ({ perPage, setPerPage }) => (\n  <div className=\"pagination-setting\">\n    <div className=\"select is-info  is-small\">\n      <select\n        value={perPage}\n        onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setPerPage(Number(e.target.value))}\n      >\n        {perPageOptions.map(option => (\n          <option key={option}>{option}</option>\n        ))}\n      </select>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport { PaginationButton } from './PaginationButton';\nimport { PaginationSettings } from './PaginationSettings';\n\nimport './Pagination.css';\n\ntype Props = {\n  total: number,\n  perPage: number,\n  page: number,\n  changeActualPage: (value: number) => void,\n  setPerPage: (value: number) => void,\n}\n\nexport const Pagination: React.FC<Props> = ({\n  total,\n  perPage,\n  page,\n  changeActualPage,\n  setPerPage,\n}) => {\n  const lastPage = Math.ceil(total / perPage);\n\n  return (\n    <nav className=\"pagination is-small is-full\" role=\"navigation\" aria-label=\"pagination\">\n      <PaginationSettings\n        perPage={perPage}\n        setPerPage={setPerPage}\n      />\n      <button\n        className=\"pagination-previous\"\n        disabled={page === 1}\n        onClick={() => changeActualPage(page - 1)}\n      >\n        Previous\n      </button>\n      <button\n        className=\"pagination-next\"\n        disabled={page === lastPage}\n        onClick={() => changeActualPage(page + 1)}\n      >\n        Next page\n      </button>\n\n      <ul className=\"pagination-list\">\n        {page > 2 && (\n          <>\n            <PaginationButton\n              page={1}\n              activePage={page}\n              onPageChange={() => changeActualPage(1)}\n            />\n            <span className=\"pagination__dots\">...</span>\n          </>\n        )}\n\n        {page > 1 && (\n          <PaginationButton\n            page={page - 1}\n            activePage={page}\n            onPageChange={() => changeActualPage(page - 1)}\n          />\n        )}\n\n        <PaginationButton\n          page={page}\n          activePage={page}\n          onPageChange={() => changeActualPage(page)}\n        />\n\n        {page < lastPage && (\n          <PaginationButton\n            page={page + 1}\n            activePage={page}\n            onPageChange={() => changeActualPage(page + 1)}\n          />\n        )}\n\n        {page < lastPage - 1 && (\n          <>\n            <span className=\"pagination__dots\">...</span>\n            <PaginationButton\n              page={lastPage}\n              activePage={page}\n              onPageChange={() => changeActualPage(lastPage)}\n            />\n          </>\n        )}\n      </ul>\n    </nav>\n  );\n}\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\n\nimport './App.css';\n\nimport { getPhones, required, minLength, dataType } from './helpers';\nimport { Columns, SortTypes } from './components/Emuns';\nimport { DataTable } from './components/DataTable';\nimport { Search } from './components/Search';\nimport { Pagination } from \"./components/Pagination\";\n\nconst columnConfig: ColumnConfig = {\n  [Columns.Name]: {\n    title: 'Название',\n    sortType: SortTypes.String,\n    isSearchable: true,\n    validators: [required, minLength(5)],\n  },\n  [Columns.Age]: {\n    title: 'Возраст',\n    sortType: SortTypes.Number,\n    validators: [required, dataType('number')],\n  },\n  [Columns.Snippet]: {\n    title: 'Описание',\n    isSearchable: true,\n    validators: [required, minLength(10)],\n  }\n};\n\nfunction App() {\n  const [phones, setPhones] = useState<Phone[]>([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [sortField, setSortField] = useState(Columns.Name);\n  const [sortType, setSortType] = useState(columnConfig[Columns.Name].sortType);\n  const [sortReverse, setSortReverse] = useState(false);\n  const [filterQuery, setFilterQuery] = useState('');\n  const [isSelectedAll, setIsSelectedAll] = useState(false);\n  const [actualPage, setActualPage] = useState(1);\n  const [perPage, setPerPage] = useState(5);\n\n  const firstVisibleIndex = ((actualPage - 1) * perPage);\n\n  useEffect(() => {\n    loadPhones();\n  }, []);\n\n  useEffect(() => {\n    setActualPage(1);\n  }, [perPage]);\n\n  useEffect(() => {\n    setActualPage(1);\n  }, [filterQuery])\n\n  const loadPhones = async () => {\n    try {\n      const phonesFromServer = await getPhones();\n      const preparedPhones = phonesFromServer.map((phone: PhoneFromServer) => {\n        const preparedPhone: Phone = {\n          id: phone.id,\n          [Columns.Name]: phone.name,\n          [Columns.Age]: phone.age,\n          [Columns.Snippet]: phone.snippet,\n          selected: false,\n        };\n\n        return preparedPhone;\n      })\n      setPhones(preparedPhones);\n    } catch {\n      setErrorMessage('Oops! Something went wrong... :(');\n    }\n  }\n\n  const onSelectionChanged = (id: string | null) => {\n    if (id) {\n      setPhones(phones.map(phone => (phone.id === id)\n        ? {...phone, selected: !phone.selected}\n        : phone\n      ));\n\n      return;\n    }\n\n    setPhones(\n      phones.map(phone => (\n        (filteredPhones.includes(phone))\n          ? {...phone, selected: !isSelectedAll}\n          : phone\n      )\n    ));\n  }\n\n  const onSort = (key: string, field: SortField) => {\n    if (!field.sortType) {\n      return;\n    }\n\n    (key === sortField) ? setSortReverse(!sortReverse) : setSortReverse(false);\n\n    setSortField(key as Columns);\n    setSortType(field.sortType as SortTypes);\n  }\n\n  const changeActualPage = (newPage: number) => {\n    if (\n      newPage === actualPage\n      || newPage < 1\n      || newPage > Math.ceil(sortedPhones.length / perPage)\n    ) {\n      return;\n    }\n\n    setActualPage(newPage);\n  }\n\n  const filterPhones = useCallback(\n    ((phones: Phone[], query: string) => {\n      const pattern = new RegExp(filterQuery.trim(), 'i');\n\n      return phones.filter(phone => {\n        let searchArea = '';\n\n        Object.keys(phone).forEach((prop) => {\n           if (columnConfig[prop] && columnConfig[prop].hasOwnProperty('isSearchable')) {\n            searchArea += ` ${phone[prop]}`\n          }\n        });\n\n        return searchArea.match(pattern);\n      });\n    }),\n    [filterQuery],\n  )\n\n  const sortPhones = useCallback(\n    (phones: Phone[], sortType: string | undefined, sortReverse: boolean) => {\n      const sortedPhones = [...phones];\n\n      if (sortType === SortTypes.String) {\n        sortedPhones.sort((a, b) => (a[sortField] as string).localeCompare(b[sortField] as string));\n     }\n\n      if (sortType === SortTypes.Number) {\n        sortedPhones.sort((a, b) => (a[sortField] as number) - (b[sortField] as number));\n      }\n\n      return (sortReverse) ? sortedPhones.reverse() : sortedPhones;\n    },\n    [sortField],\n  );\n\n  const filteredPhones = useMemo(\n    () => filterPhones(phones, filterQuery),\n    [filterPhones, phones, filterQuery],\n  );\n\n  const sortedPhones = useMemo(\n    () => sortPhones(filteredPhones, sortType, sortReverse),\n    [sortPhones, filteredPhones, sortType, sortReverse],\n  );\n\n  const paginatedPhones = sortedPhones.slice(firstVisibleIndex, firstVisibleIndex + perPage);\n\n  useEffect(() => {\n    setIsSelectedAll(filteredPhones.length > 0 && filteredPhones.every(phone => phone.selected));\n  }, [filteredPhones, phones, filterQuery])\n\n  return (\n    <section className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">\n          React Datatable\n        </h1>\n        {errorMessage && (\n          <div className=\"message is-danger\">\n            <div className=\"message-header\">\n              Error\n            </div>\n            <div className=\"message-body\">\n              {errorMessage}\n            </div>\n          </div>\n        )}\n        {!errorMessage && (\n          <>\n            {sortedPhones.length > perPage && (\n              <h2 className=\"subtitle\">\n                {`Phones from ${firstVisibleIndex} to ${firstVisibleIndex + perPage - 1}`}\n              </h2>\n            )}\n\n            <Search\n              filterQuery={filterQuery}\n              setFilterQuery={setFilterQuery}\n            />\n            <DataTable\n              phones={paginatedPhones}\n              allPhones={phones}\n              columnConfig={columnConfig}\n              isSelectedAll={isSelectedAll}\n              sortReverse={sortReverse}\n              sortField={sortField}\n              onSelectionChanged={onSelectionChanged}\n              onSort={onSort}\n              setPhones={setPhones}\n            />\n            <Pagination\n              total={sortedPhones.length}\n              perPage={perPage}\n              page={actualPage}\n              changeActualPage={changeActualPage}\n              setPerPage={setPerPage}\n            />\n          </>\n        )}\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}